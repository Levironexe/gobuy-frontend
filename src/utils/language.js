// utils/language.js

// Get user's language setting from localStorage
export const getUserLanguage = () => {
  try {
    const language = localStorage.getItem('gobuy_language')
    if (language) {
      return language
    }
    
    // Fallback to browser language
    const browserLang = navigator.language.slice(0, 2)
    const supportedLangs = ['en', 'es', 'vi']
    
    return supportedLangs.includes(browserLang) ? browserLang : 'en'
  } catch (err) {
    console.error('Failed to get language setting:', err)
    return 'en'
  }
}

// Set user's language preference
export const setUserLanguage = (language) => {
  try {
    localStorage.setItem('gobuy_language', language)
    console.log(`üåê Language set to: ${language}`)
    
    // Dispatch event for cross-component reactivity
    window.dispatchEvent(new CustomEvent('languageChanged', { 
      detail: { language } 
    }))
  } catch (err) {
    console.error('Failed to update language setting:', err)
  }
}

// Language configuration
export const languageConfig = {
  en: { name: 'English', flag: 'üá∫üá∏', rtl: false },
  es: { name: 'Espa√±ol', flag: 'üá™üá∏', rtl: false },
  vi: { name: 'Ti·∫øng Vi·ªát', flag: 'üáªüá≥', rtl: false }
}

// Complete translation dictionary
const translations = {
  en: {
    // Common
    'loading': 'Loading...',
    'error': 'Error',
    'success': 'Success',
    'save': 'Save',
    'cancel': 'Cancel',
    'close': 'Close',
    'search': 'Search',
    'try_again': 'Try Again',
    'apply': 'Apply',
    'remove': 'Remove',
    'delete': 'Delete',
    'activate': 'Activate',
    'deactivate': 'Deactivate',
    
    // Home Page
    'your_trusted_marketplace': 'Your trusted marketplace',
    'welcome_to_gobuy': 'Welcome to GoBuy',
    'home_subtitle': 'Your one-stop marketplace for buying and selling products with confidence and ease.',
    'browse_products': 'Browse Products',
    'sell_your_product': 'Sell Your Product',
    'active_users': 'Active Users',
    'products_listed': 'Products Listed',
    'secure_transactions': 'Secure Transactions',
    'how_it_works': 'How It Works',
    'how_it_works_subtitle': 'Get started in just three simple steps',
    
    // All Products
    'all_products': 'All Products',
    'products_subtitle': 'Discover amazing products from trusted sellers',
    'no_products_found': 'No Products Found',
    'no_products_message': 'There are no products available at the moment.',
    'reload_products': 'Reload Products',
    'products': 'products',
    'showing': 'Showing',
    'of': 'of',
    'all_categories': 'All Categories',
    'in_stock_only': 'In Stock Only',
    'active_only': 'Active Only',
    'search_products': 'Search products...',
    'out_of_stock': 'Out of Stock',
    'low_stock': 'Low Stock',
    'inactive': 'Inactive',
    'view': 'View',
    'add_to_cart': 'Add to Cart',
    'unavailable': 'Unavailable',
    'price': 'Price:',
    'category': 'Category:',
    'stock': 'Stock:',
    'status': 'Status:',
    'description': 'Description:',
    'active': 'Active',
    'first': 'First',
    'previous': 'Previous',
    'next': 'Next',
    'last': 'Last',
    'in_stock': 'in stock',
    'updated': 'Updated:',
    'items': 'items',
    'item': 'item',
    
    // Login
    'welcome_back': 'Welcome Back',
    'login_subtitle': 'Sign in to continue your shopping journey',
    'email_address': 'Email Address',
    'enter_your_email': 'Enter your email',
    'password': 'Password',
    'enter_your_password': 'Enter your password',
    'sign_in': 'Sign In',
    'signing_in': 'Signing In...',
    'continue_with_google': 'Continue with Google',
    'dont_have_account': 'Don\'t have an account?',
    'create_one_here': 'Create one here',
    
    // Settings
    'settings': 'Settings',
    'settings_subtitle': 'Customize your GoBuy experience',
    'settings_saved': 'Settings saved successfully!',
    'language_region': 'Language & Region',
    'language': 'Language',
    'currency': 'Currency',
    'save_settings': 'Save Settings',
    'reset_to_default': 'Reset to Default',
    'prototype_notice': 'This is a prototype. Settings are saved locally and will reset when you clear browser data.',
    
    // Cart
    'your_cart': 'Your Cart',
    'cart_subtitle': 'Review your items and checkout when ready',
    'empty_cart': 'Your Cart is Empty',
    'empty_cart_message': 'Add some products to your cart to get started.',
    'continue_shopping': 'Continue Shopping',
    'quantity': 'Quantity:',
    'total': 'Total:',
    'order_summary': 'Order Summary',
    'proceed_to_checkout': 'Proceed to Checkout',
    
    // Profile
    'my_profile': 'My Profile',
    'profile_subtitle': 'Manage your account information',
    'display_name': 'Display Name',
    'update_profile': 'Update Profile',
    'sign_out': 'Sign Out',

    // Addition - Missing English strings
    'browse_discover': 'Browse & Discover',
    'browse_discover_desc': 'Explore thousands of products from trusted sellers. Use our smart filters to find exactly what you need.',
    'secure_purchase': 'Secure Purchase',
    'secure_purchase_desc': 'Buy with confidence using our secure payment system. Your money is protected until you receive your item.',
    'fast_delivery': 'Fast Delivery',
    'fast_delivery_desc': 'Get your products delivered quickly and safely. Track your order every step of the way.',
    'why_choose_gobuy': 'Why Choose GoBuy?',
    'why_choose_subtitle': 'Experience the difference with our premium features',
    'secure_payments': 'Secure Payments',
    'secure_payments_desc': 'Your transactions are protected with bank-level security and encryption. Shop with complete peace of mind.',
    'lightning_fast': 'Lightning Fast',
    'lightning_fast_desc': 'Quick browsing, instant checkout, and rapid delivery. We value your time and make everything seamless.',
    'quality_assured': 'Quality Assured',
    'quality_assured_desc': 'Every product is verified and reviewed. Our quality standards ensure you get exactly what you expect.',
    'smart_matching': 'Smart Matching',
    'smart_matching_desc': 'Our AI-powered system helps you discover products you\'ll love based on your preferences and history.',
    '24_7_support': '24/7 Support',
    '24_7_support_desc': 'Our dedicated support team is always ready to help. Get assistance whenever you need it, day or night.',
    'global_reach': 'Global Reach',
    'global_reach_desc': 'Connect with buyers and sellers worldwide. Expand your market reach beyond geographical boundaries.',
    'or_continue_with': 'or continue with',
    'magic_link_login': 'Magic Link Login',
    'magic_link_desc': 'Get a secure login link sent to your email',
    'enter_email_magic_link': 'Enter email for magic link',
    'send_magic_link': 'Send Magic Link',
    'join_gobuy': 'Join GoBuy',
    'register_subtitle': 'Create your account and start shopping with confidence',
    'create_password': 'Create a password',
    'confirm_your_password': 'Confirm your password',
    'create_account': 'Create Account',
    'what_youll_get': 'What you\'ll get:',
    'secure_encrypted_shopping': 'Secure & encrypted shopping',
    'exclusive_deals': 'Access to exclusive deals',
    'customer_support': '24/7 customer support',
    'fast_reliable_delivery': 'Fast & reliable delivery',
    'already_have_account': 'Already have an account?',
    'sign_in_here': 'Sign in here',
    'terms_privacy_notice': 'By creating an account, you agree to our',
    'terms_of_service': 'Terms of Service',
    'privacy_policy': 'Privacy Policy',
    'my_products': 'My Products',
    'manage_listings': 'Manage your listings',
    'add_product': 'Add Product',
    'enter_display_name': 'Enter your display name',
    'account_information': 'Account Information',
    'member_since': 'Member Since:',
    'last_sign_in': 'Last Sign In:',
    'user_id': 'User ID:',
    'sign_out_desc': 'Sign out of your GoBuy account on this device.',
    'cart_items': 'Cart Items',
    'promo_code': 'Promo code',
    'upload_product': 'Upload Product',
    'sell_subtitle': 'Share your product with thousands of buyers!',
    'product_title': 'Product title',
    'product_description': 'Describe your product',
    'stock_quantity': 'Stock Quantity',
    'product_thumbnail': 'Product Thumbnail',
    'click_upload_drag': 'Click to upload or drag & drop',
    'file_size_limit': 'PNG, JPG, GIF up to 10MB',
    'upload_product_btn': 'Upload Product',
    'back_to_products': 'Back to Products',
    'price_usd': 'Price ($)',
    'title': 'Title',
    'email_cannot_change': 'Email cannot be changed'
  },
  
  es: {
    // Common
    'loading': 'Cargando...',
    'error': 'Error',
    'success': '√âxito',
    'save': 'Guardar',
    'cancel': 'Cancelar',
    'close': 'Cerrar',
    'search': 'Buscar',
    'try_again': 'Intentar de Nuevo',
    'apply': 'Aplicar',
    'remove': 'Eliminar',
    'delete': 'Borrar',
    'activate': 'Activar',
    'deactivate': 'Desactivar',
    
    // Home Page
    'your_trusted_marketplace': 'Tu mercado de confianza',
    'welcome_to_gobuy': 'Bienvenido a GoBuy',
    'home_subtitle': 'Tu mercado integral para comprar y vender productos con confianza y facilidad.',
    'browse_products': 'Explorar Productos',
    'sell_your_product': 'Vende tu Producto',
    'active_users': 'Usuarios Activos',
    'products_listed': 'Productos Listados',
    'secure_transactions': 'Transacciones Seguras',
    'how_it_works': 'C√≥mo Funciona',
    'how_it_works_subtitle': 'Comienza en solo tres sencillos pasos',
    
    // All Products
    'all_products': 'Todos los Productos',
    'products_subtitle': 'Descubre productos incre√≠bles de vendedores confiables',
    'no_products_found': 'No se Encontraron Productos',
    'no_products_message': 'No hay productos disponibles en este momento.',
    'reload_products': 'Recargar Productos',
    'products': 'productos',
    'showing': 'Mostrando',
    'of': 'de',
    'all_categories': 'Todas las Categor√≠as',
    'in_stock_only': 'Solo en Stock',
    'active_only': 'Solo Activos',
    'search_products': 'Buscar productos...',
    'out_of_stock': 'Agotado',
    'low_stock': 'Stock Bajo',
    'inactive': 'Inactivo',
    'view': 'Ver',
    'add_to_cart': 'A√±adir al Carrito',
    'unavailable': 'No Disponible',
    'price': 'Precio:',
    'category': 'Categor√≠a:',
    'stock': 'Stock:',
    'status': 'Estado:',
    'description': 'Descripci√≥n:',
    'active': 'Activo',
    'first': 'Primero',
    'previous': 'Anterior',
    'next': 'Siguiente',
    'last': '√öltimo',
    'in_stock': 'en stock',
    'updated': 'Actualizado:',
    'items': 'art√≠culos',
    'item': 'art√≠culo',
    
    // Login
    'welcome_back': 'Bienvenido de Vuelta',
    'login_subtitle': 'Inicia sesi√≥n para continuar tu viaje de compras',
    'email_address': 'Direcci√≥n de Email',
    'enter_your_email': 'Ingresa tu email',
    'password': 'Contrase√±a',
    'enter_your_password': 'Ingresa tu contrase√±a',
    'sign_in': 'Iniciar Sesi√≥n',
    'signing_in': 'Iniciando Sesi√≥n...',
    'continue_with_google': 'Continuar con Google',
    'dont_have_account': '¬øNo tienes una cuenta?',
    'create_one_here': 'Crea una aqu√≠',
    
    // Settings
    'settings': 'Configuraci√≥n',
    'settings_subtitle': 'Personaliza tu experiencia GoBuy',
    'settings_saved': '¬°Configuraci√≥n guardada exitosamente!',
    'language_region': 'Idioma y Regi√≥n',
    'language': 'Idioma',
    'currency': 'Moneda',
    'save_settings': 'Guardar Configuraci√≥n',
    'reset_to_default': 'Restablecer por Defecto',
    'prototype_notice': 'Este es un prototipo. La configuraci√≥n se guarda localmente y se restablecer√° cuando borres los datos del navegador.',
    
    // Cart
    'your_cart': 'Tu Carrito',
    'cart_subtitle': 'Revisa tus art√≠culos y paga cuando est√©s listo',
    'empty_cart': 'Tu Carrito est√° Vac√≠o',
    'empty_cart_message': 'Agrega algunos productos a tu carrito para comenzar.',
    'continue_shopping': 'Continuar Comprando',
    'quantity': 'Cantidad:',
    'total': 'Total:',
    'order_summary': 'Resumen del Pedido',
    'proceed_to_checkout': 'Proceder al Pago',
    
    // Profile
    'my_profile': 'Mi Perfil',
    'profile_subtitle': 'Administra la informaci√≥n de tu cuenta',
    'display_name': 'Nombre de Pantalla',
    'update_profile': 'Actualizar Perfil',
    'sign_out': 'Cerrar Sesi√≥n',
    // Addition - Missing Spanish strings
    'browse_discover': 'Explorar y Descubrir',
    'browse_discover_desc': 'Explora miles de productos de vendedores confiables. Usa nuestros filtros inteligentes para encontrar exactamente lo que necesitas.',
    'secure_purchase': 'Compra Segura',
    'secure_purchase_desc': 'Compra con confianza usando nuestro sistema de pago seguro. Tu dinero est√° protegido hasta que recibas tu art√≠culo.',
    'fast_delivery': 'Entrega R√°pida',
    'fast_delivery_desc': 'Recibe tus productos de forma r√°pida y segura. Rastrea tu pedido en cada paso del camino.',
    'why_choose_gobuy': '¬øPor qu√© Elegir GoBuy?',
    'why_choose_subtitle': 'Experimenta la diferencia con nuestras caracter√≠sticas premium',
    'secure_payments': 'Pagos Seguros',
    'secure_payments_desc': 'Tus transacciones est√°n protegidas con seguridad y encriptaci√≥n de nivel bancario. Compra con total tranquilidad.',
    'lightning_fast': 'S√∫per R√°pido',
    'lightning_fast_desc': 'Navegaci√≥n r√°pida, checkout instant√°neo y entrega veloz. Valoramos tu tiempo y hacemos todo sin complicaciones.',
    'quality_assured': 'Calidad Asegurada',
    'quality_assured_desc': 'Cada producto es verificado y revisado. Nuestros est√°ndares de calidad aseguran que obtengas exactamente lo que esperas.',
    'smart_matching': 'Coincidencia Inteligente',
    'smart_matching_desc': 'Nuestro sistema impulsado por IA te ayuda a descubrir productos que amar√°s bas√°ndose en tus preferencias e historial.',
    '24_7_support': 'Soporte 24/7',
    '24_7_support_desc': 'Nuestro equipo de soporte dedicado siempre est√° listo para ayudar. Obt√©n asistencia cuando la necesites, d√≠a y noche.',
    'global_reach': 'Alcance Global',
    'global_reach_desc': 'Conecta con compradores y vendedores de todo el mundo. Expande tu alcance de mercado m√°s all√° de las fronteras geogr√°ficas.',
    'or_continue_with': 'o continuar con',
    'magic_link_login': 'Inicio de Sesi√≥n con Enlace M√°gico',
    'magic_link_desc': 'Recibe un enlace de inicio de sesi√≥n seguro en tu email',
    'enter_email_magic_link': 'Ingresa email para enlace m√°gico',
    'send_magic_link': 'Enviar Enlace M√°gico',
    'join_gobuy': '√önete a GoBuy',
    'register_subtitle': 'Crea tu cuenta y comienza a comprar con confianza',
    'create_password': 'Crear una contrase√±a',
    'confirm_your_password': 'Confirmar tu contrase√±a',
    'create_account': 'Crear Cuenta',
    'what_youll_get': 'Lo que obtendr√°s:',
    'secure_encrypted_shopping': 'Compras seguras y encriptadas',
    'exclusive_deals': 'Acceso a ofertas exclusivas',
    'customer_support': 'Soporte al cliente 24/7',
    'fast_reliable_delivery': 'Entrega r√°pida y confiable',
    'already_have_account': '¬øYa tienes una cuenta?',
    'sign_in_here': 'Inicia sesi√≥n aqu√≠',
    'terms_privacy_notice': 'Al crear una cuenta, aceptas nuestros',
    'terms_of_service': 'T√©rminos de Servicio',
    'privacy_policy': 'Pol√≠tica de Privacidad',
    'my_products': 'Mis Productos',
    'manage_listings': 'Administra tus anuncios',
    'add_product': 'Agregar Producto',
    'enter_display_name': 'Ingresa tu nombre de pantalla',
    'account_information': 'Informaci√≥n de la Cuenta',
    'member_since': 'Miembro desde:',
    'last_sign_in': '√öltimo Inicio de Sesi√≥n:',
    'user_id': 'ID de Usuario:',
    'sign_out_desc': 'Cerrar sesi√≥n de tu cuenta GoBuy en este dispositivo.',
    'cart_items': 'Art√≠culos del Carrito',
    'promo_code': 'C√≥digo promocional',
    'upload_product': 'Subir Producto',
    'sell_subtitle': '¬°Comparte tu producto con miles de compradores!',
    'product_title': 'T√≠tulo del producto',
    'product_description': 'Describe tu producto',
    'stock_quantity': 'Cantidad en Stock',
    'product_thumbnail': 'Miniatura del Producto',
    'click_upload_drag': 'Haz clic para subir o arrastra y suelta',
    'file_size_limit': 'PNG, JPG, GIF hasta 10MB',
    'upload_product_btn': 'Subir Producto',
    'back_to_products': 'Volver a Productos',
    'price_usd': 'Precio ($)',
    'title': 'T√≠tulo',
    'email_cannot_change': 'El email no se puede cambiar'
  },
  
  vi: {
    // Common
    'loading': 'ƒêang t·∫£i...',
    'error': 'L·ªói',
    'success': 'Th√†nh c√¥ng',
    'save': 'L∆∞u',
    'cancel': 'H·ªßy',
    'close': 'ƒê√≥ng',
    'search': 'T√¨m ki·∫øm',
    'try_again': 'Th·ª≠ L·∫°i',
    'apply': '√Åp d·ª•ng',
    'remove': 'X√≥a',
    'delete': 'X√≥a',
    'activate': 'K√≠ch ho·∫°t',
    'deactivate': 'V√¥ hi·ªáu h√≥a',
    
    // Home Page
    'your_trusted_marketplace': 'Th·ªã tr∆∞·ªùng ƒë√°ng tin c·∫≠y c·ªßa b·∫°n',
    'welcome_to_gobuy': 'Ch√†o m·ª´ng ƒë·∫øn v·ªõi GoBuy',
    'home_subtitle': 'Th·ªã tr∆∞·ªùng m·ªôt c·ª≠a ƒë·ªÉ mua v√† b√°n s·∫£n ph·∫©m v·ªõi s·ª± tin t∆∞·ªüng v√† d·ªÖ d√†ng.',
    'browse_products': 'Kh√°m ph√° ngay',
    'sell_your_product': 'Tr·ªü th√†nh seller',
    'active_users': 'Ng∆∞·ªùi d√πng Ho·∫°t ƒë·ªông',
    'products_listed': 'S·∫£n ph·∫©m ƒê√£ li·ªát k√™',
    'secure_transactions': 'Giao d·ªãch An to√†n',
    'how_it_works': 'C√°ch Ho·∫°t ƒë·ªông',
    'how_it_works_subtitle': 'B·∫Øt ƒë·∫ßu ch·ªâ v·ªõi ba b∆∞·ªõc ƒë∆°n gi·∫£n',
    
    // All Products
    'all_products': 'T·∫•t c·∫£ S·∫£n ph·∫©m',
    'products_subtitle': 'Kh√°m ph√° c√°c s·∫£n ph·∫©m tuy·ªát v·ªùi t·ª´ ng∆∞·ªùi b√°n ƒë√°ng tin c·∫≠y',
    'no_products_found': 'Kh√¥ng T√¨m Th·∫•y S·∫£n ph·∫©m',
    'no_products_message': 'Hi·ªán t·∫°i kh√¥ng c√≥ s·∫£n ph·∫©m n√†o c√≥ s·∫µn.',
    'reload_products': 'T·∫£i L·∫°i S·∫£n ph·∫©m',
    'products': 's·∫£n ph·∫©m',
    'showing': 'Hi·ªÉn th·ªã',
    'of': 'c·ªßa',
    'all_categories': 'T·∫•t c·∫£ Danh m·ª•c',
    'in_stock_only': 'Ch·ªâ C√≤n h√†ng',
    'active_only': 'Ch·ªâ ƒêang b√°n',
    'search_products': 'T√¨m ki·∫øm s·∫£n ph·∫©m...',
    'out_of_stock': 'H·∫øt h√†ng',
    'low_stock': 'S·∫Øp h·∫øt',
    'inactive': 'Kh√¥ng ho·∫°t ƒë·ªông',
    'view': 'Xem',
    'add_to_cart': 'Th√™m v√†o Gi·ªè',
    'unavailable': 'Kh√¥ng c√≥ s·∫µn',
    'price': 'Gi√°:',
    'category': 'Danh m·ª•c:',
    'stock': 'Kho:',
    'status': 'Tr·∫°ng th√°i:',
    'description': 'M√¥ t·∫£:',
    'active': 'Ho·∫°t ƒë·ªông',
    'first': 'ƒê·∫ßu',
    'previous': 'Tr∆∞·ªõc',
    'next': 'Ti·∫øp',
    'last': 'Cu·ªëi',
    'in_stock': 'c√≤n h√†ng',
    'updated': 'C·∫≠p nh·∫≠t:',
    'items': 'm·ª•c',
    'item': 'm·ª•c',
    
    // Login
    'welcome_back': 'Ch√†o m·ª´ng Tr·ªü l·∫°i',
    'login_subtitle': 'ƒêƒÉng nh·∫≠p ƒë·ªÉ ti·∫øp t·ª•c h√†nh tr√¨nh mua s·∫Øm',
    'email_address': 'ƒê·ªãa ch·ªâ Email',
    'enter_your_email': 'Nh·∫≠p email c·ªßa b·∫°n',
    'password': 'M·∫≠t kh·∫©u',
    'enter_your_password': 'Nh·∫≠p m·∫≠t kh·∫©u c·ªßa b·∫°n',
    'sign_in': 'ƒêƒÉng nh·∫≠p',
    'signing_in': 'ƒêang ƒëƒÉng nh·∫≠p...',
    'continue_with_google': 'Ti·∫øp t·ª•c v·ªõi Google',
    'dont_have_account': 'Ch∆∞a c√≥ t√†i kho·∫£n?',
    'create_one_here': 'T·∫°o m·ªôt c√°i ·ªü ƒë√¢y',
    
    // Settings
    'settings': 'C√†i ƒë·∫∑t',
    'settings_subtitle': 'T√πy ch·ªânh tr·∫£i nghi·ªám GoBuy c·ªßa b·∫°n',
    'settings_saved': 'C√†i ƒë·∫∑t ƒë√£ ƒë∆∞·ª£c l∆∞u th√†nh c√¥ng!',
    'language_region': 'Ng√¥n ng·ªØ & Khu v·ª±c',
    'language': 'Ng√¥n ng·ªØ',
    'currency': 'Ti·ªÅn t·ªá',
    'save_settings': 'L∆∞u C√†i ƒë·∫∑t',
    'reset_to_default': 'ƒê·∫∑t l·∫°i M·∫∑c ƒë·ªãnh',
    'prototype_notice': 'ƒê√¢y l√† nguy√™n m·∫´u. C√†i ƒë·∫∑t ƒë∆∞·ª£c l∆∞u c·ª•c b·ªô v√† s·∫Ω ƒë∆∞·ª£c ƒë·∫∑t l·∫°i khi b·∫°n x√≥a d·ªØ li·ªáu tr√¨nh duy·ªát.',
    
    // Cart
    'your_cart': 'Gi·ªè h√†ng c·ªßa B·∫°n',
    'cart_subtitle': 'Xem l·∫°i c√°c m·∫∑t h√†ng v√† thanh to√°n khi s·∫µn s√†ng',
    'empty_cart': 'Gi·ªè h√†ng c·ªßa B·∫°n Tr·ªëng',
    'empty_cart_message': 'Th√™m m·ªôt s·ªë s·∫£n ph·∫©m v√†o gi·ªè h√†ng ƒë·ªÉ b·∫Øt ƒë·∫ßu.',
    'continue_shopping': 'Ti·∫øp t·ª•c Mua s·∫Øm',
    'quantity': 'S·ªë l∆∞·ª£ng:',
    'total': 'T·ªïng c·ªông:',
    'order_summary': 'T√≥m t·∫Øt ƒê∆°n h√†ng',
    'proceed_to_checkout': 'Ti·∫øn h√†nh Thanh to√°n',
    
    // Profile
    'my_profile': 'H·ªì s∆° c·ªßa T√¥i',
    'profile_subtitle': 'Qu·∫£n l√Ω th√¥ng tin t√†i kho·∫£n c·ªßa b·∫°n',
    'display_name': 'T√™n Hi·ªÉn th·ªã',
    'update_profile': 'C·∫≠p nh·∫≠t H·ªì s∆°',
    'sign_out': 'ƒêƒÉng xu·∫•t',
    // Addition - Missing Vietnamese strings
    'browse_discover': 'Duy·ªát & Kh√°m ph√°',
    'browse_discover_desc': 'Kh√°m ph√° h√†ng ngh√¨n s·∫£n ph·∫©m t·ª´ nh·ªØng ng∆∞·ªùi b√°n ƒë√°ng tin c·∫≠y. S·ª≠ d·ª•ng b·ªô l·ªçc th√¥ng minh c·ªßa ch√∫ng t√¥i ƒë·ªÉ t√¨m ch√≠nh x√°c nh·ªØng g√¨ b·∫°n c·∫ßn.',
    'secure_purchase': 'Mua h√†ng An to√†n',
    'secure_purchase_desc': 'Mua v·ªõi s·ª± tin t∆∞·ªüng b·∫±ng h·ªá th·ªëng thanh to√°n an to√†n c·ªßa ch√∫ng t√¥i. Ti·ªÅn c·ªßa b·∫°n ƒë∆∞·ª£c b·∫£o v·ªá cho ƒë·∫øn khi b·∫°n nh·∫≠n ƒë∆∞·ª£c h√†ng.',
    'fast_delivery': 'Giao h√†ng Nhanh',
    'fast_delivery_desc': 'Nh·∫≠n s·∫£n ph·∫©m c·ªßa b·∫°n m·ªôt c√°ch nhanh ch√≥ng v√† an to√†n. Theo d√µi ƒë∆°n h√†ng c·ªßa b·∫°n trong t·ª´ng b∆∞·ªõc.',
    'why_choose_gobuy': 'T·∫°i sao Ch·ªçn GoBuy?',
    'why_choose_subtitle': 'Tr·∫£i nghi·ªám s·ª± kh√°c bi·ªát v·ªõi c√°c t√≠nh nƒÉng cao c·∫•p c·ªßa ch√∫ng t√¥i',
    'secure_payments': 'Thanh to√°n An to√†n',
    'secure_payments_desc': 'C√°c giao d·ªãch c·ªßa b·∫°n ƒë∆∞·ª£c b·∫£o v·ªá v·ªõi b·∫£o m·∫≠t v√† m√£ h√≥a c·∫•p ng√¢n h√†ng. Mua s·∫Øm v·ªõi s·ª± y√™n t√¢m ho√†n to√†n.',
    'lightning_fast': 'C·ª±c Nhanh',
    'lightning_fast_desc': 'Duy·ªát nhanh, thanh to√°n t·ª©c th√¨ v√† giao h√†ng nhanh. Ch√∫ng t√¥i tr√¢n tr·ªçng th·ªùi gian c·ªßa b·∫°n v√† l√†m m·ªçi th·ª© li·ªÅn m·∫°ch.',
    'quality_assured': 'Ch·∫•t l∆∞·ª£ng ƒê·∫£m b·∫£o',
    'quality_assured_desc': 'M·ªói s·∫£n ph·∫©m ƒë·ªÅu ƒë∆∞·ª£c x√°c minh v√† ƒë√°nh gi√°. Ti√™u chu·∫©n ch·∫•t l∆∞·ª£ng c·ªßa ch√∫ng t√¥i ƒë·∫£m b·∫£o b·∫°n nh·∫≠n ƒë∆∞·ª£c ch√≠nh x√°c nh·ªØng g√¨ b·∫°n mong ƒë·ª£i.',
    'smart_matching': 'Gh√©p ƒë√¥i Th√¥ng minh',
    'smart_matching_desc': 'H·ªá th·ªëng ƒë∆∞·ª£c h·ªó tr·ª£ b·ªüi AI c·ªßa ch√∫ng t√¥i gi√∫p b·∫°n kh√°m ph√° nh·ªØng s·∫£n ph·∫©m b·∫°n s·∫Ω y√™u th√≠ch d·ª±a tr√™n s·ªü th√≠ch v√† l·ªãch s·ª≠ c·ªßa b·∫°n.',
    '24_7_support': 'H·ªó tr·ª£ 24/7',
    '24_7_support_desc': 'ƒê·ªôi ng≈© h·ªó tr·ª£ t·∫≠n t√¨nh c·ªßa ch√∫ng t√¥i lu√¥n s·∫µn s√†ng gi√∫p ƒë·ª°. Nh·∫≠n h·ªó tr·ª£ b·∫•t c·ª© khi n√†o b·∫°n c·∫ßn, ng√†y hay ƒë√™m.',
    'global_reach': 'T·∫ßm v·ªõi To√†n c·∫ßu',
    'global_reach_desc': 'K·∫øt n·ªëi v·ªõi ng∆∞·ªùi mua v√† ng∆∞·ªùi b√°n tr√™n to√†n th·∫ø gi·ªõi. M·ªü r·ªông t·∫ßm v·ªõi th·ªã tr∆∞·ªùng c·ªßa b·∫°n v∆∞·ª£t qua ranh gi·ªõi ƒë·ªãa l√Ω.',
    'or_continue_with': 'ho·∫∑c ti·∫øp t·ª•c v·ªõi',
    'magic_link_login': 'ƒêƒÉng nh·∫≠p Li√™n k·∫øt Ma thu·∫≠t',
    'magic_link_desc': 'Nh·∫≠n li√™n k·∫øt ƒëƒÉng nh·∫≠p an to√†n ƒë∆∞·ª£c g·ª≠i ƒë·∫øn email c·ªßa b·∫°n',
    'enter_email_magic_link': 'Nh·∫≠p email cho li√™n k·∫øt ma thu·∫≠t',
    'send_magic_link': 'G·ª≠i Li√™n k·∫øt Ma thu·∫≠t',
    'join_gobuy': 'Tham gia GoBuy',
    'register_subtitle': 'T·∫°o t√†i kho·∫£n c·ªßa b·∫°n v√† b·∫Øt ƒë·∫ßu mua s·∫Øm v·ªõi s·ª± tin t∆∞·ªüng',
    'create_password': 'T·∫°o m·∫≠t kh·∫©u',
    'confirm_your_password': 'X√°c nh·∫≠n m·∫≠t kh·∫©u c·ªßa b·∫°n',
    'create_account': 'T·∫°o T√†i kho·∫£n',
    'what_youll_get': 'Nh·ªØng g√¨ b·∫°n s·∫Ω nh·∫≠n ƒë∆∞·ª£c:',
    'secure_encrypted_shopping': 'Mua s·∫Øm an to√†n & ƒë∆∞·ª£c m√£ h√≥a',
    'exclusive_deals': 'Truy c·∫≠p v√†o c√°c ∆∞u ƒë√£i ƒë·ªôc quy·ªÅn',
    'customer_support': 'H·ªó tr·ª£ kh√°ch h√†ng 24/7',
    'fast_reliable_delivery': 'Giao h√†ng nhanh & ƒë√°ng tin c·∫≠y',
    'already_have_account': 'ƒê√£ c√≥ t√†i kho·∫£n?',
    'sign_in_here': 'ƒêƒÉng nh·∫≠p ·ªü ƒë√¢y',
    'terms_privacy_notice': 'B·∫±ng c√°ch t·∫°o t√†i kho·∫£n, b·∫°n ƒë·ªìng √Ω v·ªõi',
    'terms_of_service': 'ƒêi·ªÅu kho·∫£n D·ªãch v·ª•',
    'privacy_policy': 'Ch√≠nh s√°ch Quy·ªÅn ri√™ng t∆∞',
    'my_products': 'S·∫£n ph·∫©m c·ªßa T√¥i',
    'manage_listings': 'Qu·∫£n l√Ω danh s√°ch c·ªßa b·∫°n',
    'add_product': 'Th√™m S·∫£n ph·∫©m',
    'enter_display_name': 'Nh·∫≠p t√™n hi·ªÉn th·ªã c·ªßa b·∫°n',
    'account_information': 'Th√¥ng tin T√†i kho·∫£n',
    'member_since': 'Th√†nh vi√™n t·ª´:',
    'last_sign_in': 'L·∫ßn ƒêƒÉng nh·∫≠p Cu·ªëi:',
    'user_id': 'ID Ng∆∞·ªùi d√πng:',
    'sign_out_desc': 'ƒêƒÉng xu·∫•t kh·ªèi t√†i kho·∫£n GoBuy c·ªßa b·∫°n tr√™n thi·∫øt b·ªã n√†y.',
    'cart_items': 'M·∫∑t h√†ng trong Gi·ªè',
    'promo_code': 'M√£ khuy·∫øn m√£i',
    'upload_product': 'T·∫£i l√™n S·∫£n ph·∫©m',
    'sell_subtitle': 'Chia s·∫ª s·∫£n ph·∫©m c·ªßa b·∫°n v·ªõi h√†ng ngh√¨n ng∆∞·ªùi mua!',
    'product_title': 'Ti√™u ƒë·ªÅ s·∫£n ph·∫©m',
    'product_description': 'M√¥ t·∫£ s·∫£n ph·∫©m c·ªßa b·∫°n',
    'stock_quantity': 'S·ªë l∆∞·ª£ng Kho',
    'product_thumbnail': 'H√¨nh thu nh·ªè S·∫£n ph·∫©m',
    'click_upload_drag': 'Nh·∫•p ƒë·ªÉ t·∫£i l√™n ho·∫∑c k√©o & th·∫£',
    'file_size_limit': 'PNG, JPG, GIF t·ªëi ƒëa 10MB',
    'upload_product_btn': 'T·∫£i l√™n S·∫£n ph·∫©m',
    'back_to_products': 'Quay l·∫°i S·∫£n ph·∫©m',
    'price_usd': 'Gi√° ($)',
    'title': 'Ti√™u ƒë·ªÅ',
    'email_cannot_change': 'Email kh√¥ng th·ªÉ thay ƒë·ªïi'
  }
}

// Get translation for a key
export const t = (key, params = {}) => {
  const language = getUserLanguage()
  const translation = translations[language]?.[key] || translations.en[key] || key
  
  // Simple parameter replacement for dynamic content
  if (params && Object.keys(params).length > 0) {
    return translation.replace(/\{(\w+)\}/g, (match, param) => {
      return params[param] || match
    })
  }
  
  return translation
}

// Get language info
export const getLanguageInfo = (targetLanguage = null) => {
  const language = targetLanguage || getUserLanguage()
  return languageConfig[language] || languageConfig.en
}

// Initialize language system
export const initializeLanguage = async () => {
  const userLanguage = getUserLanguage()
  console.log(`üåê Initializing language system with: ${userLanguage}`)
  
  // Set document language for accessibility
  document.documentElement.lang = userLanguage
  
  // Set text direction (none of our current languages are RTL)
  const langInfo = getLanguageInfo(userLanguage)
  document.documentElement.dir = langInfo.rtl ? 'rtl' : 'ltr'
}